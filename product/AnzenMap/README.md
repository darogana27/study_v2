# 🗺️ CrimeMappa プロジェクト管理ドキュメント

## 📋 プロジェクト概要

### 🎯 目標
警察庁オープンデータを活用した年別犯罪発生情報の可視化Webアプリケーション

### 🏆 プロジェクト名
**AnzenMap（クライムマッパ）** - Crime + Map + er

### 📅 開始日
2025年8月17日

---

## 🎨 主要機能

### Core Features
- [ ] **年選択機能** - 2019年〜2025年のデータ切り替え
- [ ] **犯罪種別フィルター** - 7種類の窃盗（ひったくり、車上ねらい、部品ねらい、自動販売機ねらい、自動車盗、オートバイ盗、自転車盗）
- [ ] **色分けヒートマップ** - 犯罪発生件数による地域の色分け表示
- [ ] **詳細情報表示** - クリックで具体的な件数・犯罪内訳を表示

### Advanced Features
- [ ] **ユーザー認証** - Cognito による登録・ログイン
- [ ] **お気に入り地域** - 関心エリアの保存
- [ ] **月次レポート配信** - SNS/SES による統計レポート
- [ ] **安全度ランキング** - 地域別安全度一覧

---

## 🛠️ 技術スタック

### AWS Services
- **Lambda** - データ収集・処理の自動化
- **DynamoDB** - 年別・地域別犯罪件数データベース
- **S3** - CSVファイル・GeoJSONデータ保存
- **API Gateway** - REST API提供
- **Cognito** - ユーザー認証・管理 ✅ **学習目標**
- **SNS/SES** - 通知・レポート配信 ✅ **学習目標**
- **CloudWatch** - 定期実行・監視
- **Amplify** - フロントエンドホスティング

### Frontend
- **React** - UIフレームワーク
- **Leaflet.js** - 地図表示（Google Maps代替）
- **Recharts** - データ可視化・グラフ表示
- **Tailwind CSS** - スタイリング

### Data Sources
- **警視庁オープンデータ** - 犯罪発生情報CSV
- **国土地理院** - 地図・境界データ

---

## 📊 色分けルール

| 色 | 発生件数 | 安全レベル |
|---|---|---|
| 🟢 緑色 | 0-2件 | 安全 |
| 🟡 黄色 | 3-10件 | 注意 |
| 🟠 橙色 | 11-30件 | 警戒 |
| 🔴 赤色 | 31件以上 | 危険 |

---

## 🚀 開発ロードマップ

### Phase 1: データ基盤構築 🔄
- [ ] **Step 1.1** 警視庁CSVデータの取得・分析
- [ ] **Step 1.2** データ構造の設計・定義
- [ ] **Step 1.3** Lambda関数でのデータ処理自動化
- [ ] **Step 1.4** DynamoDBテーブル設計・作成

### Phase 2: 基本マップ表示 🗺️
- [ ] **Step 2.1** React + Leaflet.js環境構築
- [ ] **Step 2.2** 東京都地図の基本表示
- [ ] **Step 2.3** GeoJSONによる区市町村境界表示
- [ ] **Step 2.4** サンプルデータでの色分け表示

### Phase 3: フィルター・インタラクション 🎛️
- [ ] **Step 3.1** 年選択ドロップダウン実装
- [ ] **Step 3.2** 犯罪種別チェックボックス実装
- [ ] **Step 3.3** 地域クリック時の詳細表示
- [ ] **Step 3.4** API Gatewayでのデータ取得API構築

### Phase 4: 認証・通知機能 🔐
- [ ] **Step 4.1** Cognito ユーザープール設定
- [ ] **Step 4.2** ログイン・登録画面実装
- [ ] **Step 4.3** SNS/SES 通知システム構築
- [ ] **Step 4.4** お気に入り地域・レポート機能

### Phase 5: 高度な機能・最適化 ⚡
- [ ] **Step 5.1** 統計ダッシュボード追加
- [ ] **Step 5.2** パフォーマンス最適化
- [ ] **Step 5.3** レスポンシブデザイン対応
- [ ] **Step 5.4** 本番環境デプロイ

---

## 📈 進捗状況

### ✅ 完了
- プロジェクト企画・設計
- 技術スタック選定
- データソース調査・確認

### 🔄 進行中
- データ構造の詳細設計

### ⏳ 未着手
- 実装フェーズ全般

---

## 📚 学習目標・成果

### AWS Services習得
- [ ] **Cognito** - ユーザー認証フロー完全理解
- [ ] **SNS/SES** - メール・SMS通知システム構築
- [ ] **Lambda** - サーバーレス処理パターン習得
- [ ] **DynamoDB** - NoSQLデータベース設計スキル

### 開発スキル
- [ ] **地図アプリケーション開発** - Leaflet.js実装スキル
- [ ] **データ可視化** - 複雑なデータの効果的な表現方法
- [ ] **REST API設計** - スケーラブルなAPI構築
- [ ] **React状態管理** - 複雑なUIコンポーネント設計

---

## 📝 メモ・課題

### 技術的課題
- GeoJSONデータの最適化（ファイルサイズ削減）
- 大量データの効率的な表示方法
- リアルタイム更新は今回は実装しない

### データ関連
- 警視庁CSVデータの更新頻度確認
- 他県データの将来的な拡張性検討

### UI/UX
- 色覚異常対応の色選択
- モバイル端末での操作性

---

## 🎯 次回やること

1. **警視庁CSVデータダウンロード・分析**
2. **データ構造の詳細設計**
3. **React + Leaflet.js環境構築**

---

## 📞 参考リンク

- [警視庁犯罪発生情報](https://www.keishicho.metro.tokyo.lg.jp/about_mpd/jokyo_tokei/jokyo/hanzaihasseijyouhou.html)
- [警察庁オープンデータリンク集](https://www.npa.go.jp/toukei/seianki/hanzaiopendatalink.html)
- [Leaflet.js公式ドキュメント](https://leafletjs.com/)
- [AWS Amplify](https://aws.amazon.com/amplify/)

---

**最終更新日**: 2025年8月17日  
**プロジェクト状況**: 企画・設計完了、実装準備中
